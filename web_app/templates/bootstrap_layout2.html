<!doctype html>
<html>
  <head>
    <style>
      .bt-group .dbtn {
      background-color: dodgerblue;
      border: 1px solid darkblue;
      color: white;
      padding: 10px 22px;
      text-align: center;
      text-decoration: none;
      font-size: 16px;
      cursor: pointer;
      }
      .bt-group .dbtn:hover {
      background-color: darkblue;
      }
      /* Dropdown button on hover & focus */
      .dbtn:hover, .dbtn:focus {
      background-color: #2980B9;
      }

      /* The container <div> - needed to position the dropdown content */
      .ddown {
      position: relative;
      float: right;
      top: 20px;
      left: -40px;
      }

      /* Dropdown Content (Hidden by Default) */
      .ddown-content {
      display: none;
      position: absolute;
      background-color: #f1f1f1;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
      }

      /* Links inside the dropdown */
      .ddown-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      }

      /* Change color of dropdown links on hover */
      .ddown-content a:hover {background-color: #ddd
      }
      /* Show the dropdown menu (use JS to add this class to the .dropdown-content container when the user clicks on the dropdown button) */
      .show {display:block;
      }
      table {
          border-collapse: collapse;
          width: 50%;
      }
      table, th, td {
          border: 1px solid black;
          text-align: center;
      }
      th {
          background-color: #4CAF50;
          color: white;
      }
      tr:hover {background-color: #f5f5f5;}
    </style>
    <title>BetAI</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  </head>

  <body>

    <!-- FLASH MESSAGING -->
    <!-- see: https://flask.palletsprojects.com/en/1.1.x/patterns/flashing/ -->
    <!-- see: https://getbootstrap.com/docs/4.3/components/alerts/ -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible" role="alert" style="margin-bottom:0px;">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- SITE NAVIGATION -->
    <!-- see: https://jinja.palletsprojects.com/en/2.11.x/tricks/ -->
    <!-- see: https://getbootstrap.com/docs/4.0/components/navbar/ -->
    {% set nav_links = [
      ('/tracker', 'tracker', 'Bet Tracker'),
      ('/boxscore', 'boxscore', 'Box Score'),
      ('/dashboard', 'dashboard', 'Dashboard'),
      ('/htrends', 'trends', 'Historical Trends'),
      ('/predict', 'predict', 'Predict'),
      ('/schedule', 'schedule', 'Schedule'),
      ('/standings', 'standings', 'Standings'),
      ('/logout', 'logout', 'Logout'),
    ] -%}
    {% set active_page = active_page|default('index') -%}
    <nav class="navbar sticky-top navbar-dark bg-primary">
      <a class="navbar-brand" href="/dashboard">Price Find</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <ul class="nav navbar-nav ml-auto">
          {% for href, id, link_text in nav_links %}
            {% if id == active_page %}
              {% set is_active = "active" -%}
            {% else %}
              {% set is_active = "" -%}
            {% endif %}
            <li class="nav-item">
              <a class="nav-link {{ is_active }}" href="{{href}}">{{link_text}}</a>
            </li>
          {% endfor %}
        </ul>
      </div>
    </nav>

    <div class="container" style="margin-top:2em;">
      <!-- PAGE CONTENTS -->
      <div id="content">
        <div class="bt-group">
          <div class="ddown">
              <form action="/dashboard" id="nav_form" method="GET">
                  <button type="submit" class="dbtn">Go</button>
              </form>
          </div>
          <div class="ddown">
              <button onclick="myFunction('myddown')" id="dbtn" class="dbtn">Dashboard</button>
              <div id="myddown" class="ddown-content" size="8">
                  <a onclick="GetSelectText('Bet Tracker','dbtn','/tracker')">Bet Tracker</a>
                  <a onclick="GetSelectText('Box Score','dbtn','/boxscore')">Box Score</a>
                  <a onclick="GetSelectText('Dashboard','dbtn','/dashboard')">Dashboard</a>
                  <a onclick="GetSelectText('Historical Trends','dbtn','/htrends')">Historical Trends</a>
                  <a onclick="GetSelectText('Predict','dbtn','/predict')">Predict</a>
                  <a onclick="GetSelectText('Schedule','dbtn','/schedule')">Schedule</a>
                  <a onclick="GetSelectText('Standings','dbtn','/standings')">Standings</a>
              </div>
          </div>
      </div>
        {% block content %}
        {% endblock %}
      </div>
    </div>

    <!-- JAVASCRIPT SECTION -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script type="text/javascript">

        console.log("Thanks for the page visit!")

        // closes data-dismiss="alert" flash messages
        // see: https://getbootstrap.com/docs/4.3/components/alerts/#javascript-behavior
        //$().alert('close')
    /* When the user clicks on the button,
        toggle between hiding and showing the dropdown content */
    function myFunction(clicked_id) {
    document.getElementById(clicked_id).classList.toggle("show");
    }
    function GetSelectText(text,clicked_id,page){
    document.getElementById(clicked_id).innerHTML = text;
    document.forms['nav_form'].action = page
    }
    // Close the dropdown menu if the user clicks outside of it
    window.onclick = function(event) {
    if (!event.target.matches('.dbtn')) {
        var dropdowns = document.getElementsByClassName("ddown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
        var openDropdown = dropdowns[i];
        if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
        }
        }
    }
    if (!event.target.matches('.dropbtn')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
        var openDropdown = dropdowns[i];
        if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
        }
        }
    }
    }
    </script>
  </body>
</html>